{"version":3,"file":"static/js/493.2adc1e46.chunk.js","mappings":"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","sources":["redux/statistics/statisticsSelectors.js","webpack://react-homework-template/./src/components/Wallet/Statistics.module.css?2da8","components/Wallet/Statistics.jsx"],"sourcesContent":["export const incomeSummary = state => state.statistics.incomeSummary;\nexport const expenseSummary = state => state.statistics.expenseSummary;\nexport const categoriesSummary = state => state.statistics.categoriesSummary;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Statistics_container__33rwm\",\"statisticsBox\":\"Statistics_statisticsBox__FXF-E\",\"statisticsHeading\":\"Statistics_statisticsHeading__KmZlg\",\"canvasBox\":\"Statistics_canvasBox__BcWSd\",\"canvasSumm\":\"Statistics_canvasSumm__ScsBz\",\"selectBox\":\"Statistics_selectBox__6hGtT\",\"select\":\"Statistics_select__l7HXT\",\"table\":\"Statistics_table__HfmDA\",\"tableSummIncome\":\"Statistics_tableSummIncome__bsWnk\",\"tableSummExpence\":\"Statistics_tableSummExpence__L0S4E\",\"tableHeader\":\"Statistics_tableHeader__COv4P\",\"tableHeaderData\":\"Statistics_tableHeaderData__1sy5s\",\"tableData\":\"Statistics_tableData__0ugyX\",\"firstTableData\":\"Statistics_firstTableData__icmYJ\",\"lastTableData\":\"Statistics_lastTableData__97i6e\",\"tableDataTotal\":\"Statistics_tableDataTotal__pcBkD\",\"tableDataExpenses\":\"Statistics_tableDataExpenses__Fjufx\",\"tableDataIncome\":\"Statistics_tableDataIncome__VDCqd\",\"spanTd\":\"Statistics_spanTd__ZZhDw\",\"colorSpan1\":\"Statistics_colorSpan1__p8J0N\",\"colorSpan2\":\"Statistics_colorSpan2__FT+TB\",\"colorSpan3\":\"Statistics_colorSpan3__gpnP1\",\"colorSpan4\":\"Statistics_colorSpan4__Dn4qI\",\"colorSpan5\":\"Statistics_colorSpan5__WBfJ8\",\"colorSpan6\":\"Statistics_colorSpan6__RQHVN\",\"colorSpan7\":\"Statistics_colorSpan7__mWht0\",\"colorSpan8\":\"Statistics_colorSpan8__rJJuZ\",\"colorSpan9\":\"Statistics_colorSpan9__VG0Qm\"};","import React, { useState } from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport Select from 'react-select';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTransactionsSummary } from 'redux/statistics/statisticsOperations';\nimport {\n  categoriesSummary,\n  expenseSummary,\n  incomeSummary,\n} from 'redux/statistics/statisticsSelectors';\nimport s from '../Wallet/Statistics.module.css';\nimport { getAuthBalance } from 'redux/AuthRedux/selectors';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst Statistics = () => {\n  const stateStatistics = useSelector(categoriesSummary);\n  const expense = useSelector(expenseSummary);\n  const income = useSelector(incomeSummary);\n  const balance = useSelector(getAuthBalance);\n\n  const [selectedMounth, setSelectedMounth] = useState(null);\n  const [selectedYear, setSelectedYear] = useState({\n    value: '2022',\n    label: '2022',\n  });\n\n  const dispatch = useDispatch();\n  const isData = stateStatistics.length;\n  let dataStatistics = [];\n\n  useEffect(() => {\n    const timeSelected = {\n      month: selectedMounth ? selectedMounth.value : 0,\n      year: selectedYear.value,\n    };\n\n    dispatch(getTransactionsSummary(timeSelected));\n  }, [selectedMounth, selectedYear, dispatch]);\n\n  const optionsMounth = [\n    { value: '1', label: 'January' },\n    { value: '2', label: 'February' },\n    { value: '3', label: 'March' },\n    { value: '4', label: 'April' },\n    { value: '5', label: 'May' },\n    { value: '6', label: 'June' },\n    { value: '7', label: 'July' },\n    { value: '8', label: 'August' },\n    { value: '9', label: 'September' },\n    { value: '10', label: 'October' },\n    { value: '11', label: 'November' },\n    { value: '12', label: 'December' },\n    { value: '', label: 'All' },\n  ];\n  const optionsYear = [\n    { value: '2022', label: '2022' },\n    { value: '2021', label: '2021' },\n    { value: '2020', label: '2020' },\n    { value: '2019', label: '2019' },\n    { value: '2018', label: '2018' },\n  ];\n\n  const data = {\n    labels: [],\n    datasets: [\n      {\n        // label: '# of Votes',\n        data: isData ? dataStatistics : [1],\n        backgroundColor: [\n          'rgba(254, 208, 87, 1)',\n          'rgba(255, 216, 208, 1)',\n          'rgba(253, 148, 152, 1)',\n          'rgba(197, 186, 255, 1)',\n          'rgba(110, 120, 232, 1)',\n          'rgba(74, 86, 226, 1)',\n          'rgba(129, 225, 255, 1)',\n          'rgba(36, 204, 167, 1)',\n          'rgba(0, 173, 132, 1)',\n        ],\n        borderColor: [],\n        borderWidth: 0,\n      },\n    ],\n  };\n\n  const TableData = () => {\n    return isData ? (\n      <table className={s.table}>\n        <thead className={s.tableHeader}>\n          <tr>\n            <th className={s.tableHeaderData}>Category</th>\n            <th className={s.tableHeaderData}>Sum</th>\n          </tr>\n        </thead>\n        <tbody>\n          {stateStatistics\n            .filter(({ type }) => type !== 'INCOME')\n            .map(({ name, total }, idx) => {\n              dataStatistics.push(Math.abs(total));\n              return (\n                <tr key={name}>\n                  <td\n                    className={`${s.tableData} ${\n                      idx === 0 && s.firstTableData\n                    }`}\n                  >\n                    <span\n                      className={`${s.spanTd} ${idx === 0 && s.colorSpan1} ${\n                        idx === 1 && s.colorSpan2\n                      } ${idx === 2 && s.colorSpan3} ${\n                        idx === 3 && s.colorSpan4\n                      } ${idx === 4 && s.colorSpan5} ${\n                        idx === 5 && s.colorSpan6\n                      } ${idx === 6 && s.colorSpan7} ${\n                        idx === 7 && s.colorSpan8\n                      } ${idx === 8 && s.colorSpan9}`}\n                    ></span>\n                    {name}\n                  </td>\n                  <td\n                    className={`${s.tableData} ${\n                      idx === 0 && s.firstTableData\n                    }`}\n                  >\n                    {Math.abs(total)}\n                  </td>\n                </tr>\n              );\n            })}\n        </tbody>\n        <tfoot>\n          <tr>\n            <td className={`${s.tableData} ${s.tableDataTotal}`}>Expenses:</td>\n            <td className={`${s.tableData} ${s.tableDataExpenses}`}>\n              {Math.abs(expense)}\n            </td>\n          </tr>\n          <tr>\n            <td className={`${s.tableData} ${s.tableDataTotal}`}>Income:</td>\n            <td className={`${s.tableData} ${s.tableDataIncome}`}>\n              {Math.abs(income)}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n    ) : (\n      <h2>Sorry, no data found, please select an alternative query</h2>\n    );\n  };\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.statisticsHeading}>Statistics</h1>\n      <div className={s.statisticsBox}>\n        <div className={s.canvasBox}>\n          <h2 className={s.canvasSumm}>â‚´{`${isData ? balance : ''}`}</h2>\n          <Doughnut data={data} />\n        </div>\n        <div>\n          <div className={s.selectBox}>\n            <Select\n              styles={{\n                control: (baseStyles, state) => ({\n                  ...baseStyles,\n                  borderColor: 'transparent',\n                  border: '1px solid #000000',\n                  borderRadius: '30px',\n                  height: '50px',\n                  outline: 'none !important',\n                  lineHeight: 1.58,\n                }),\n              }}\n              className={s.select}\n              onChange={setSelectedMounth}\n              options={optionsMounth}\n              placeholder=\"Month\"\n            />\n            <Select\n              styles={{\n                control: (baseStyles, state) => ({\n                  ...baseStyles,\n                  borderColor: 'transparent',\n                  border: '1px solid #000000',\n                  borderRadius: '30px',\n                  height: '50px',\n                  outline: 'none !important',\n                  lineHeight: 1.58,\n                }),\n              }}\n              className={s.select}\n              onChange={setSelectedYear}\n              options={optionsYear}\n              placeholder=\"Year\"\n            />\n          </div>\n          <TableData />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Statistics;\n"],"names":["incomeSummary","state","statistics","expenseSummary","categoriesSummary","ChartJS","ArcElement","Tooltip","Legend","stateStatistics","useSelector","expense","income","balance","getAuthBalance","useState","selectedMounth","setSelectedMounth","value","label","selectedYear","setSelectedYear","dispatch","useDispatch","isData","length","dataStatistics","useEffect","timeSelected","month","year","getTransactionsSummary","data","labels","datasets","backgroundColor","borderColor","borderWidth","TableData","className","s","filter","type","map","idx","name","total","push","Math","abs","styles","control","baseStyles","border","borderRadius","height","outline","lineHeight","onChange","options","placeholder"],"sourceRoot":""}